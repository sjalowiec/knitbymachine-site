<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>test | Knit by Machine</title>
<style>
  :root{
    --kbm-green:#52682D;
    --kbm-olive:#738C52;
    --kbm-gray:#f6f7f8;
    --kbm-dark:#333;
    --radius:14px;
  }
  *{box-sizing:border-box}
  body{font-family:"Open Sans",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#fff;color:var(--kbm-dark);margin:0}
  a{color:var(--kbm-olive);text-decoration:none}
  a:hover{text-decoration:underline}
  .container{max-width:980px;margin:0 auto;padding:24px}

  /* Hero */
  .hero{display:grid;grid-template-columns:1.2fr .8fr;gap:20px;align-items:center;margin:18px 0 8px}
  .hero .title{padding:20px;border-radius:var(--radius);background:linear-gradient(180deg,#fff,var(--kbm-gray));border:1px solid #e7e9eb}
  .hero h1{margin:0 0 6px;color:var(--kbm-green);font-weight:700;letter-spacing:.2px}
  .hero p{margin:6px 0 0;font-size:1.05rem}
  .tagline{font-family:"Shadows Into Light Two",cursive;font-size:1.25rem;color:var(--kbm-olive)}
  .hero .card{border:1px solid #e7e9eb;border-radius:var(--radius);padding:14px;background:#fff}
  .hero .card h3{margin:0 0 10px;color:var(--kbm-green)}
  .checklist{display:flex;flex-wrap:wrap;gap:10px}
  .check-pill{display:flex;gap:8px;align-items:center;padding:10px 12px;border:1px dashed #ccd1d5;border-radius:999px;background:#fff;cursor:pointer}
  .check-pill input{accent-color:var(--kbm-olive)}

  /* Progress header */
  .progress-wrap{display:flex;align-items:center;justify-content:space-between;gap:14px;margin:22px 0}
  .progress-bar{flex:1;height:10px;background:#ebedf0;border-radius:999px;overflow:hidden}
  .progress-bar > span{display:block;height:100%;background:var(--kbm-olive);width:0}
  .progress-stat{min-width:170px;text-align:right;color:#586069;font-size:.95rem}

  /* Steps */
  .steps{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
  .step{border:1px solid #e7e9eb;border-radius:var(--radius);background:#fff;display:flex;flex-direction:column;overflow:hidden;position:relative}
  .step header{padding:12px 14px;border-bottom:1px solid #eef0f2;display:flex;justify-content:space-between;align-items:center}
  .step header h3{margin:0;color:var(--kbm-green);font-size:1.05rem}
  .badge{font-size:.72rem;background:var(--kbm-gray);color:#556;padding:4px 8px;border-radius:999px;border:1px solid #e0e3e6}
  .media{aspect-ratio:16/9;background:#e9ecef;display:grid;place-items:center;color:#8a8f95;font-style:italic}
  .media video,.media img{width:100%;height:100%;object-fit:cover}
  .step .body{padding:12px 14px 6px}
  .step .body p{margin:0 0 8px}
  .actions{display:flex;gap:8px;padding:10px 14px 14px}
  .btn{border:1px solid #d5dadf;background:#fff;border-radius:10px;padding:8px 12px;font-weight:600;cursor:pointer}
  .btn.primary{background:var(--kbm-olive);color:#fff;border-color:var(--kbm-olive)}
  .btn.ghost{background:#fff;color:var(--kbm-olive);border-color:var(--kbm-olive)}
  .btn[aria-pressed="true"].primary{background:var(--kbm-green);border-color:var(--kbm-green)}

  /* Tips accordion inside cards */
  details.tip{border-top:1px dashed #e6eaee;margin:0}
  details.tip summary{list-style:none;padding:10px 14px;cursor:pointer;color:#607080}
  details.tip[open] summary{color:#2b3b2b}
  .tip .tip-body{padding:0 14px 12px;color:#485560}

  /* Reflection */
  .reflect{margin:26px 0;border:1px solid #e7e9eb;border-radius:var(--radius);overflow:hidden;background:#fff}
  .reflect header{background:var(--kbm-gray);padding:12px 16px;border-bottom:1px solid #e1e4e8;color:#2b3b2b}
  .reflect .inner{padding:14px}
  textarea{width:100%;min-height:120px;border:1px solid #d8dde3;border-radius:10px;padding:10px;resize:vertical}
  .reactions{display:flex;gap:8px;margin:10px 0;flex-wrap:wrap}
  .react{border:1px solid #d5dadf;background:#fff;border-radius:999px;padding:6px 10px;cursor:pointer}
  .react[aria-pressed="true"]{background:#eef6ee;border-color:#bcd8bc}

  /* Connections */
  .connections{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:14px;margin:28px 0}
  .card{border:1px solid #e7e9eb;border-radius:var(--radius);background:#fff;overflow:hidden}
  .card .thumb{height:120px;background:#eef2e8}
  .card .pad{padding:12px}
  .card h4{margin:0 0 6px;color:var(--kbm-green)}

  /* Floating Next button */
  .float-next{position:fixed;right:18px;bottom:18px;z-index:9}
  .float-next .btn{box-shadow:0 6px 18px rgba(0,0,0,.12)}

  /* Confetti */
  .confetti{pointer-events:none;position:fixed;inset:0;display:none}
  .confetti.on{display:block}

  /* Modal */
  .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.4);padding:20px}
  .modal .sheet{max-width:560px;width:100%;background:#fff;border-radius:16px;overflow:hidden;border:1px solid #e7e9eb}
  .modal header{padding:14px 16px;border-bottom:1px solid #e7e9eb;color:var(--kbm-green);font-weight:700}
  .modal .body{padding:14px 16px}
  .modal .foot{padding:12px 16px;border-top:1px solid #e7e9eb;display:flex;justify-content:flex-end;gap:8px}

  /* Member label (optional) */
  .member-only{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;background:#fff5e6;border:1px solid #ffd9a6;color:#a56b00;font-size:.78rem}

  @media (max-width:840px){.hero{grid-template-columns:1fr}}
</style>
</head>
<body>
  <canvas class="confetti" id="confetti"></canvas>
  <div class="container">

    <!-- HERO -->
    <section class="hero">
      <div class="title">
        <h1>test</h1>
        <p>Increases add shape and style to your knitting.
They’re used for sleeves, necklines, darts, or simply as design details.
In this Skill Builder, you’ll explore three ways to add stitches — each with a different look and purpose.

You’ll Learn To:

Compare three increase methods

See how each affects your fabric

Choose the best one for your project</p>
        <p class="tagline">this is the increase tagline</p>
        
      </div>
      <div class="card">
        <h3>Before you start</h3>
        <div class="checklist">
          <label class="check-pill"><input type="checkbox"> Casting on and knitting a small swatch</label>
          <label class="check-pill"><input type="checkbox"> Using your transfer tools or latch tool</label>
          <label class="check-pill"><input type="checkbox"> Working with yarn suitable for your machine</label>
        </div>
        <div style="margin-top:10px">
          <button class="btn ghost" id="openChecklist">Open checklist</button>
        </div>
      </div>
    </section>

    <!-- PROGRESS -->
    <div class="progress-wrap">
      <div class="progress-bar"><span id="bar"></span></div>
      <div class="progress-stat"><strong id="doneCount">0</strong>/1 tried · Keep going</div>
    </div>

    <!-- STEPS -->
    <section class="steps">
      
      <article class="step" data-step="1">
        <header>
          <h3>basicincrease</h3>
          
        </header>
        <div class="media">GIF / Short clip</div>
        <div class="body">
          <p>Pick up from the row below</p>
        </div>
        
        <details class="tip">
          <summary>Show tips</summary>
          <div class="tip-body">
            <ul>
              <li>keep temnsion evern</li><li> tip 1 </li><li>tip 2 </li><li>tip3</li>
            </ul>
          </div>
        </details>
        <div class="actions">
          <button class="btn ghost" data-action="notes">Add note</button>
          <button class="btn primary" data-action="mark" aria-pressed="false">Mark tried</button>
        </div>
      </article>
    </section>

    <!-- REFLECTION -->
    <section class="reflect">
      <header><h2 style="margin:0">Observe and Record</h2></header>
      <div class="inner">
        <div class="reactions">
          <button class="react" data-react="one" aria-pressed="false">one one</button>
          <button class="react" data-react="two" aria-pressed="false">a two with icon</button>
          <button class="react" data-react="fa" aria-pressed="false">af  f d</button>
        </div>
        <textarea id="notes" placeholder="whitch do you prefer where will you use this?"></textarea>
      </div>
    </section>

    <!-- CONNECTIONS -->
    <section>
      <h2 style="color:var(--kbm-green)">Next Steps</h2>
      <div class="connections">
        
        <article class="card">
          <div class="thumb"></div>
          <div class="pad">
            <h4>decrease skill builler</h4>
            
            <p><a class="btn" href="#">View</a></p>
          </div>
        </article>

        <article class="card">
          <div class="thumb"></div>
          <div class="pad">
            <h4>corner to corer blanket workhop</h4>
            
            <p><a class="btn" href="#">View</a></p>
          </div>
        </article>
      </div>
    </section>
  </div>

  <!-- Floating Next -->
  <div class="float-next"><button class="btn primary" id="nextAction">Show next step</button></div>

  <!-- Checklist Modal -->
  <div class="modal" id="checkModal">
    <div class="sheet">
      <header>Quick Start Checklist</header>
      <div class="body">
        <ol>
          <li>cast on 40 stitches </li>
          <li>work each method</li>
          <li>rinse and repeat</li>
        </ol>
      </div>
      <div class="foot"><button class="btn" id="closeChecklist">Close</button></div>
    </div>
  </div>

<script>
(function(){
  const prefix = 'kbm_sb_inc2_';
  const btns = document.querySelectorAll('[data-action="mark"]');
  const bar = document.getElementById('bar');
  const doneCount = document.getElementById('doneCount');
  const notes = document.getElementById('notes');
  const reacts = document.querySelectorAll('.react');
  const nextBtn = document.getElementById('nextAction');
  const confetti = document.getElementById('confetti');
  const openChecklist = document.getElementById('openChecklist');
  const closeChecklist = document.getElementById('closeChecklist');
  const checkModal = document.getElementById('checkModal');

  document.addEventListener('DOMContentLoaded', restore);
  btns.forEach(btn => btn.addEventListener('click', toggleTried));
  notes.addEventListener('input', () => localStorage.setItem(prefix+'notes', notes.value));
  reacts.forEach(r => r.addEventListener('click', toggleReaction));
  nextBtn.addEventListener('click', scrollNext);
  if(openChecklist) openChecklist.addEventListener('click', () => checkModal.style.display='grid');
  if(closeChecklist) closeChecklist.addEventListener('click', () => checkModal.style.display='none');
  if(checkModal) checkModal.addEventListener('click', e => {if(e.target===checkModal) checkModal.style.display='none'});

  function toggleTried(e){
    const btn = e.target;
    const step = btn.closest('.step').dataset.step;
    const pressed = btn.getAttribute('aria-pressed')==='true';
    btn.setAttribute('aria-pressed',!pressed);
    btn.textContent=!pressed?'Tried':'Mark tried';
    localStorage.setItem(prefix+'step_'+step,!pressed);
    updateProgress();
    if(!pressed && allDone()) celebrate();
  }

  function toggleReaction(e){
    const btn = e.target;
    const react = btn.dataset.react;
    const pressed = btn.getAttribute('aria-pressed')==='true';
    btn.setAttribute('aria-pressed',!pressed);
    localStorage.setItem(prefix+'react_'+react,!pressed);
  }

  function updateProgress(){
    const total = btns.length;
    let done = 0;
    btns.forEach(btn => {if(btn.getAttribute('aria-pressed')==='true') done++});
    bar.style.width = (done/total*100)+'%';
    doneCount.textContent = done;
  }

  function allDone(){
    return Array.from(btns).every(b => b.getAttribute('aria-pressed')==='true');
  }

  function restore(){
    btns.forEach(btn => {
      const step = btn.closest('.step').dataset.step;
      const saved = localStorage.getItem(prefix+'step_'+step)==='true';
      if(saved){
        btn.setAttribute('aria-pressed','true');
        btn.textContent='Tried';
      }
    });
    reacts.forEach(btn => {
      const react = btn.dataset.react;
      const saved = localStorage.getItem(prefix+'react_'+react)==='true';
      if(saved) btn.setAttribute('aria-pressed','true');
    });
    const savedNotes = localStorage.getItem(prefix+'notes');
    if(savedNotes) notes.value=savedNotes;
    updateProgress();
  }

  function scrollNext(){
    const firstUntried = Array.from(btns).find(b => b.getAttribute('aria-pressed')!=='true');
    if(firstUntried){
      firstUntried.closest('.step').scrollIntoView({behavior:'smooth',block:'center'});
    }else{
      document.querySelector('.reflect').scrollIntoView({behavior:'smooth'});
    }
  }

  function celebrate(){
    confetti.classList.add('on');
    drawConfetti();
    setTimeout(() => confetti.classList.remove('on'),3000);
  }

  function drawConfetti(){
    const c = confetti;
    const ctx = c.getContext('2d');
    c.width = window.innerWidth;
    c.height = window.innerHeight;
    const pieces = [];
    for(let i=0;i<100;i++){
      pieces.push({
        x:Math.random()*c.width,
        y:Math.random()*c.height-c.height,
        w:Math.random()*8+4,
        h:Math.random()*4+2,
        vx:(Math.random()-.5)*2,
        vy:Math.random()*3+2,
        color:'hsl('+(Math.random()*360)+',70%,60%)'
      });
    }
    function render(){
      ctx.clearRect(0,0,c.width,c.height);
      pieces.forEach(p => {
        ctx.fillStyle=p.color;
        ctx.fillRect(p.x,p.y,p.w,p.h);
        p.x+=p.vx;
        p.y+=p.vy;
        if(p.y<c.height) requestAnimationFrame(render);
      });
    }
    render();
  }
})();
</script>
</body>
</html>